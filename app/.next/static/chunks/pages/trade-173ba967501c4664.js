(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{2786:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trade",function(){return s(7496)}])},7496:function(e,t,s){"use strict";let r;s.r(t),s.d(t,{default:function(){return T}});var a=s(5893),n=s(7294),l=s(4306),i=s(6009);let d=e=>{let t;let s=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,n={setState:r,getState:a,getInitialState:()=>l,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},l=t=e(r,a,n);return n},o=e=>e?d(e):d;var c=s(8258);let{useDebugValue:x}=n,{useSyncExternalStoreWithSelector:m}=c,u=!1,h=e=>e,b=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?o(e):e,s=(e,s)=>(function(e,t=h,s){s&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let r=m(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return x(r),r})(t,e,s);return Object.assign(s,t),s},p={FEE_RATE:.01,PAYMENT_TIMEOUT:30},g=(r=(e,t)=>({currentUser:null,orders:[],myOrders:[],selectedOrder:null,messages:{},loading:!1,activeTab:"buy",setCurrentUser:t=>e({currentUser:t}),setPaymentAddress:(t,s)=>e(e=>{let r;return e.currentUser?(r=e.currentUser.paymentAddresses.find(e=>e.chain===t)?e.currentUser.paymentAddresses.map(e=>e.chain===t?{...e,address:s,updatedAt:new Date}:e):[...e.currentUser.paymentAddresses,{chain:t,address:s,updatedAt:new Date}],{currentUser:{...e.currentUser,paymentAddresses:r}}):e}),setOrders:t=>e({orders:t}),addOrder:t=>e(e=>({orders:[t,...e.orders],myOrders:[t,...e.myOrders]})),updateOrder:(t,s)=>e(e=>{var r;return{orders:e.orders.map(e=>e.id===t?{...e,...s}:e),myOrders:e.myOrders.map(e=>e.id===t?{...e,...s}:e),selectedOrder:(null===(r=e.selectedOrder)||void 0===r?void 0:r.id)===t?{...e.selectedOrder,...s}:e.selectedOrder}}),selectOrder:t=>e({selectedOrder:t}),addMessage:(t,s)=>e(e=>({messages:{...e.messages,[t]:[...e.messages[t]||[],s]}})),setLoading:t=>e({loading:t}),setActiveTab:t=>e({activeTab:t})}))?b(r):b,f={trc20:{name:"USDT-TRC20",icon:"₮",network:"TRON"},erc20:{name:"USDT-ERC20",icon:"₮",network:"Ethereum"},bep20:{name:"USDT-BEP20",icon:"₮",network:"BSC"},sol:{name:"USDT-SPL",icon:"₮",network:"Solana"}},v={pending:{label:"Pending",labelZh:"待接单",color:"yellow"},matched:{label:"Matched",labelZh:"已匹配",color:"purple"},payment_submitted:{label:"Payment Submitted",labelZh:"已提交付款",color:"orange"},payment_confirmed:{label:"Payment Confirmed",labelZh:"已确认付款",color:"green"},releasing:{label:"Releasing",labelZh:"释放中",color:"cyan"},completed:{label:"Completed",labelZh:"已完成",color:"gray"},cancelled:{label:"Cancelled",labelZh:"已取消",color:"gray"},disputed:{label:"Disputed",labelZh:"争议中",color:"red"}};var j=s(3329);let y=e=>{var t;let{onClose:s}=e,{publicKey:r}=(0,l.O)(),{currentUser:i,addOrder:d,activeTab:o}=g(),{language:c}=(0,j.Z)(),[x,m]=(0,n.useState)(""),[u,h]=(0,n.useState)("0.5"),[b,v]=(0,n.useState)("trc20"),[y,w]=(0,n.useState)("100"),[N,T]=(0,n.useState)(""),[k,S]=(0,n.useState)(!1),D=x&&u?parseFloat(x)*parseFloat(u):0,C=x?parseFloat(x)*p.FEE_RATE:0,U=null==i?void 0:null===(t=i.paymentAddresses.find(e=>e.chain===b))||void 0===t?void 0:t.address,P=(e,t)=>"en"===c?e:t,O=async()=>{if(r&&x&&u){S(!0);try{let e={id:Date.now().toString(),type:o,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+864e5),maker:r.toString(),makerNickname:(null==i?void 0:i.nickname)||"You",makerUsdtAddress:U||"",makerUsdtChain:b,tokenAmount:parseFloat(x),price:parseFloat(u),usdtAmount:D,feeRate:p.FEE_RATE,fee:C,minUsdt:parseFloat(y)||100,maxUsdt:parseFloat(N)||D};d(e),s()}finally{S(!1)}}},A="buy"===o;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121a] rounded-3xl w-full max-w-lg border border-white/10 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:A?P("Post Buy Order","发布买单"):P("Post Sell Order","发布卖单")}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:A?P("You want to buy TPOT with USDT","您想用 USDT 购买 TPOT"):P("You want to sell TPOT for USDT","您想卖出 TPOT 获得 USDT")})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white p-2 hover:bg-white/5 rounded-xl transition",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-2xl ".concat(A?"bg-green-500/10 border border-green-500/20":"bg-red-500/10 border border-red-500/20"),children:[(0,a.jsx)("span",{className:"text-2xl",children:A?"\uD83D\uDCC8":"\uD83D\uDCC9"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium ".concat(A?"text-green-400":"text-red-400"),children:A?P("Buy Order","买单"):P("Sell Order","卖单")}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:A?P("You will receive TPOT and pay USDT","您将收到 TPOT 并支付 USDT"):P("You will receive USDT and send TPOT","您将收到 USDT 并发送 TPOT")})]})]}),!U&&(0,a.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-amber-400",children:[(0,a.jsx)("span",{children:"⚠️"}),(0,a.jsx)("span",{className:"font-medium",children:P("Payment address required","需要设置收款地址")})]}),(0,a.jsx)("p",{className:"text-sm text-amber-200/60 mt-1",children:P("Please set your USDT receiving address in Settings first","请先在设置中填写您的 USDT 收款地址")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-400 mb-2",children:[P("Amount","数量")," (TPOT)"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:x,onChange:e=>m(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3.5 focus:outline-none focus:border-blue-500 transition",placeholder:"10000"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"TPOT"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-400 mb-2",children:[P("Price","单价")," (USDT/TPOT)"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:u,onChange:e=>h(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3.5 focus:outline-none focus:border-blue-500 transition",step:"0.01"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:"USDT"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:P("USDT Chain","USDT 链")}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(f).map(e=>{let[t,{name:s}]=e;return(0,a.jsx)("button",{onClick:()=>v(t),className:"py-3 rounded-xl transition ".concat(b===t?"bg-blue-500 text-white":"bg-white/5 hover:bg-white/10 text-gray-300"),children:s},t)})})]}),U&&(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:P("Your receiving address:","您的收款地址：")}),(0,a.jsx)("div",{className:"font-mono text-sm break-all text-gray-300",children:U})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-400 mb-2",children:[P("Min Limit","最小限额")," (USDT)"]}),(0,a.jsx)("input",{type:"number",value:y,onChange:e=>w(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 transition",placeholder:"100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-400 mb-2",children:[P("Max Limit","最大限额")," (USDT)"]}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>T(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 transition",placeholder:D.toString()})]})]}),x&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-2xl p-5 space-y-3 border border-blue-500/20",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-300 mb-3",children:P("Order Summary","订单摘要")}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:P("Total USDT","总计 USDT")}),(0,a.jsxs)("span",{className:"font-medium",children:[D.toFixed(2)," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:P("Platform Fee (1%)","平台手续费 (1%)")}),(0,a.jsxs)("span",{children:[C.toFixed(2)," TPOT"]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-3 flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:A?P("You will pay","您将支付"):P("Counterparty receives","对方收到")}),(0,a.jsxs)("span",{className:"font-medium text-green-400",children:[D.toFixed(2)," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:A?P("You will receive","您将收到"):P("Counterparty receives","对方收到")}),(0,a.jsxs)("span",{className:"font-medium text-blue-400",children:[(parseFloat(x)-C).toFixed(2)," TPOT"]})]})]}),(0,a.jsx)("button",{onClick:O,disabled:!x||!u||k,className:"w-full py-4 rounded-xl font-medium text-lg transition disabled:opacity-50 disabled:cursor-not-allowed ".concat(A?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg shadow-green-500/25":"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-lg shadow-red-500/25"),children:k?P("Creating...","创建中..."):A?P("Post Buy Order","发布买单"):P("Post Sell Order","发布卖单")})]})]})})},w=e=>{let{orderId:t,onClose:s}=e,{publicKey:r,connected:i}=(0,l.O)(),{orders:d,updateOrder:o,messages:c,addMessage:x}=g(),{language:m}=(0,j.Z)(),[u,h]=(0,n.useState)(""),[b,p]=(0,n.useState)(""),[y,w]=(0,n.useState)(""),[N,T]=(0,n.useState)(!1),k=d.find(e=>e.id===t),S=c[t]||[],D=(e,t)=>"en"===m?e:t;if(!k)return null;let C=r&&k.maker===r.toString(),U=i&&!C&&"pending"===k.status,P="buy"===k.type,O=async()=>{if(u){T(!0);try{o(t,{taker:null==r?void 0:r.toString(),takerNickname:"You",status:"matched",tokenAmount:parseFloat(u),usdtAmount:parseFloat(u)*k.price})}finally{T(!1)}}},A=async()=>{if(y){T(!0);try{o(t,{paymentTxHash:y,status:"payment_submitted"})}finally{T(!1)}}},E=()=>{b.trim()&&(x(t,{id:Date.now().toString(),orderId:t,sender:(null==r?void 0:r.toString())||"unknown",content:b,timestamp:new Date}),p(""))},M=v[k.status];return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121a] rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-hidden border border-white/10 shadow-2xl flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl ".concat(P?"bg-green-500/20":"bg-red-500/20"),children:P?"\uD83D\uDCC8":"\uD83D\uDCC9"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:P?D("Buy Order","买单"):D("Sell Order","卖单")}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["#",k.id.slice(-6)]}),(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("pending"===k.status?"bg-yellow-500/20 text-yellow-400":"matched"===k.status?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"),children:"en"===m?M.label:M.labelZh})]})]})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white p-2 hover:bg-white/5 rounded-xl transition",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 bg-white/5 rounded-2xl p-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center font-bold text-xl",children:k.makerNickname[0]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"font-medium flex items-center space-x-2",children:[(0,a.jsx)("span",{children:k.makerNickname}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(P?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:P?D("Buyer","买家"):D("Seller","卖家")}),C&&(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400",children:D("You","您")})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["156 ",D("trades","交易")," \xb7 98% ",D("completion","完成率")]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Price","价格")}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:k.price}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"USDT"})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Available","可用")}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:k.tokenAmount.toLocaleString()}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"TPOT"})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Total","总额")}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:k.usdtAmount.toLocaleString()}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"USDT"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Limit","限额")}),(0,a.jsxs)("div",{className:"font-medium",children:[k.minUsdt," - ",k.maxUsdt," USDT"]})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Payment Method","支付方式")}),(0,a.jsx)("div",{className:"font-medium",children:f[k.makerUsdtChain].name})]})]}),U&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-2xl p-5 border border-blue-500/20",children:[(0,a.jsxs)("h4",{className:"font-medium mb-4 flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDFAF"}),(0,a.jsx)("span",{children:P?D("Sell to this buyer","卖给这个买家"):D("Buy from this seller","从这个卖家购买")})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:D("Amount (TPOT)","数量 (TPOT)")}),(0,a.jsx)("input",{type:"number",value:u,onChange:e=>h(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",placeholder:"".concat(k.minUsdt/k.price," - ").concat(k.maxUsdt/k.price)}),u&&(0,a.jsxs)("div",{className:"text-sm text-gray-400 mt-2",children:[D("You will pay/receive","您将支付/收到"),": ",(parseFloat(u)*k.price).toFixed(2)," USDT"]})]}),(0,a.jsx)("button",{onClick:O,disabled:!u||N,className:"w-full py-3 rounded-xl font-medium transition disabled:opacity-50 ".concat(P?"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"),children:N?D("Processing...","处理中..."):P?D("Sell TPOT","卖出 TPOT"):D("Buy TPOT","买入 TPOT")})]}),"matched"===k.status&&k.taker===(null==r?void 0:r.toString())&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-2xl p-5 border border-amber-500/20",children:[(0,a.jsxs)("h4",{className:"font-medium mb-4 flex items-center space-x-2 text-amber-400",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB3"}),(0,a.jsx)("span",{children:D("Payment Information","付款信息")})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Amount to send","发送金额")}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-amber-400",children:[k.usdtAmount," USDT"]})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Network","网络")}),(0,a.jsx)("div",{className:"font-medium",children:f[k.makerUsdtChain].name})]}),(0,a.jsx)("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:D("Recipient's Address","收款地址")}),(0,a.jsx)("div",{className:"font-mono text-sm break-all",children:k.makerUsdtAddress})]}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(k.makerUsdtAddress||""),className:"text-blue-400 text-sm hover:text-blue-300",children:D("Copy","复制")})]})}),(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-3 text-sm text-red-300 mb-4",children:["⚠️ ",D("Send exactly the specified amount. Incorrect amounts may delay the transaction.","请精确发送指定金额，金额错误可能导致交易延迟。")]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:D("Transaction Hash","交易哈希")}),(0,a.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 font-mono text-sm",placeholder:"trc20"===k.makerUsdtChain?"Txyz...":"0x..."})]}),(0,a.jsx)("button",{onClick:A,disabled:!y||N,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 py-3 rounded-xl font-medium disabled:opacity-50",children:N?D("Processing...","处理中..."):D("I have paid","我已付款")})]}),(0,a.jsxs)("div",{className:"border-t border-white/5 pt-5",children:[(0,a.jsxs)("div",{className:"text-sm font-medium mb-3 flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCAC"}),(0,a.jsx)("span",{children:D("Chat","聊天")})]}),(0,a.jsx)("div",{className:"bg-white/5 rounded-xl h-32 overflow-y-auto p-3 space-y-2",children:0===S.length?(0,a.jsx)("div",{className:"text-center text-gray-500 text-sm py-8",children:D("No messages yet","暂无消息")}):S.map(e=>(0,a.jsx)("div",{className:"text-sm ".concat(e.sender===(null==r?void 0:r.toString())?"text-right":"text-left"),children:(0,a.jsx)("span",{className:"inline-block bg-white/10 rounded-lg px-3 py-2 max-w-[80%]",children:e.content})},e.id))}),(0,a.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,a.jsx)("input",{type:"text",value:b,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&E(),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 focus:outline-none focus:border-blue-500",placeholder:D("Type a message...","输入消息...")}),(0,a.jsx)("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 px-4 py-2.5 rounded-xl transition",children:D("Send","发送")})]})]})]}),(0,a.jsx)("div",{className:"p-6 border-t border-white/5",children:(0,a.jsx)("button",{onClick:s,className:"w-full bg-white/5 hover:bg-white/10 py-3 rounded-xl font-medium transition",children:D("Close","关闭")})})]})})},N=e=>{let{onClose:t}=e,{publicKey:s}=(0,l.O)(),{currentUser:r,setPaymentAddress:i,myOrders:d}=g(),{language:o}=(0,j.Z)(),[c,x]=(0,n.useState)({trc20:"",erc20:"",bep20:"",sol:""}),[m,u]=(0,n.useState)(!1),h=(e,t)=>"en"===o?e:t;(0,n.useEffect)(()=>{if(r){let e={trc20:"",erc20:"",bep20:"",sol:""};r.paymentAddresses.forEach(t=>{e[t.chain]=t.address}),x(e)}},[r]);let b=0===d.filter(e=>!["completed","cancelled"].includes(e.status)).length,v=async()=>{if(b){u(!0);try{Object.entries(c).forEach(e=>{let[t,s]=e;s&&i(t,s)}),t()}finally{u(!1)}}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-[#12121a] rounded-3xl w-full max-w-lg border border-white/10 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:h("Payment Settings","收款设置")}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:h("Set your USDT receiving addresses","设置您的 USDT 收款地址")})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white p-2 hover:bg-white/5 rounded-xl transition",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"◎"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:h("Solana Address (Auto)","Solana 地址（自动）")})]}),(0,a.jsx)("div",{className:"font-mono text-sm break-all text-gray-300",children:(null==s?void 0:s.toString())||"-"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:h("You will receive TPOT here","您将在这里收到 TPOT")})]}),!b&&(0,a.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-amber-400",children:[(0,a.jsx)("span",{children:"⚠️"}),(0,a.jsx)("span",{className:"font-medium",children:h("Cannot Modify","无法修改")})]}),(0,a.jsx)("p",{className:"text-sm text-amber-200/60 mt-1",children:h("You have active orders. Complete or cancel them first.","您有进行中的订单，请先完成或取消。")})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-300",children:h("USDT Receiving Addresses","USDT 收款地址")}),Object.keys(f).map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:f[e].name}),(0,a.jsx)("input",{type:"text",value:c[e],onChange:t=>x({...c,[e]:t.target.value}),disabled:!b,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 font-mono text-sm focus:outline-none focus:border-blue-500 disabled:opacity-50 transition",placeholder:"trc20"===e?"TRX...":"erc20"===e?"0x...":"bep20"===e?"0x...":"Solana address..."})]},e))]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-2xl p-4 border border-blue-500/20",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-blue-400 mb-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCCB"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:h("Platform Info","平台信息")})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{children:h("Trading Fee","交易手续费")}),(0,a.jsxs)("span",{children:[100*p.FEE_RATE,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:h("Payment Timeout","付款超时")}),(0,a.jsxs)("span",{children:[p.PAYMENT_TIMEOUT," ",h("minutes","分钟")]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 p-6 border-t border-white/5",children:[(0,a.jsx)("button",{onClick:t,className:"flex-1 bg-white/5 hover:bg-white/10 py-3 rounded-xl font-medium transition",children:h("Cancel","取消")}),(0,a.jsx)("button",{onClick:v,disabled:m||!b,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 py-3 rounded-xl font-medium disabled:opacity-50 transition",children:m?h("Saving...","保存中..."):h("Save","保存")})]})]})})};function T(){let{publicKey:e,connected:t}=(0,l.O)(),{orders:s,activeTab:r,setActiveTab:d,setCurrentUser:o,currentUser:c}=g(),{language:x,setLanguage:m}=(0,j.Z)(),[u,h]=(0,n.useState)(!1),[b,p]=(0,n.useState)(!1),[v,T]=(0,n.useState)(null),[k,S]=(0,n.useState)("");(0,n.useEffect)(()=>{e&&!c&&o({publicKey:e.toString(),nickname:e.toString().slice(0,6)+"..."+e.toString().slice(-4),paymentAddresses:[],totalTrades:0,completionRate:100,positiveRate:100,createdAt:new Date})},[e,c,o]),(0,n.useEffect)(()=>{let e=[{id:"1",type:"sell",status:"pending",createdAt:new Date(Date.now()-36e5),expiresAt:new Date(Date.now()+828e5),maker:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",makerNickname:"Alice",makerUsdtAddress:"TRX7aN2XxXxXxXxXxXxXxXxXxXxXxXxXxX",makerUsdtChain:"trc20",tokenAmount:1e4,price:.5,usdtAmount:5e3,feeRate:.01,fee:100,minUsdt:100,maxUsdt:5e3},{id:"2",type:"sell",status:"pending",createdAt:new Date(Date.now()-72e5),expiresAt:new Date(Date.now()+792e5),maker:"9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdavVLumpY2Mr",makerNickname:"Bob",makerUsdtAddress:"0x1234567890abcdef",makerUsdtChain:"erc20",tokenAmount:5e4,price:.52,usdtAmount:26e3,feeRate:.01,fee:500,minUsdt:1e3,maxUsdt:26e3},{id:"3",type:"buy",status:"pending",createdAt:new Date(Date.now()-18e5),expiresAt:new Date(Date.now()+846e5),maker:"5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694eD",makerNickname:"Charlie",makerUsdtAddress:"TRC20BuyerAddress123",makerUsdtChain:"trc20",tokenAmount:2e4,price:.48,usdtAmount:9600,feeRate:.01,fee:200,minUsdt:500,maxUsdt:9600},{id:"4",type:"buy",status:"pending",createdAt:new Date(Date.now()-54e5),expiresAt:new Date(Date.now()+81e6),maker:"2ZjxXA3mBNxs33xQXt8rHHpDvhWXGPs5xjWhLfP5nQxL",makerNickname:"Diana",makerUsdtAddress:"0xBuyerERC20Address",makerUsdtChain:"erc20",tokenAmount:3e4,price:.49,usdtAmount:14700,feeRate:.01,fee:300,minUsdt:1e3,maxUsdt:14700}];g.setState({orders:e})},[]);let D=(0,n.useMemo)(()=>s.filter(e=>e.type===r&&"pending"===e.status&&(!k||e.makerUsdtChain===k)),[s,r,k]),C=(e,t)=>"en"===x?e:t;return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f] text-white",children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 bg-[#0a0a0f]/90 backdrop-blur-xl border-b border-white/5",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center font-bold text-lg",children:"T"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold",children:"TPOT P2P"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Peer-to-Peer Trading"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex bg-white/5 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>m("en"),className:"px-3 py-1.5 text-sm rounded-md transition ".concat("en"===x?"bg-white/10":"hover:bg-white/5"),children:"EN"}),(0,a.jsx)("button",{onClick:()=>m("zh"),className:"px-3 py-1.5 text-sm rounded-md transition ".concat("zh"===x?"bg-white/10":"hover:bg-white/5"),children:"中"})]}),t&&(0,a.jsx)("button",{onClick:()=>p(!0),className:"p-2 hover:bg-white/5 rounded-lg transition",children:(0,a.jsxs)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)(i.a,{className:"!bg-gradient-to-r !from-blue-600 !to-purple-600 !rounded-xl !text-sm !py-2 !px-4 !font-medium"})]})]})}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[!t&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-2xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD10"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-amber-200",children:C("Connect Wallet to Trade","连接钱包开始交易")}),(0,a.jsx)("p",{className:"text-sm text-amber-200/60",children:C("Connect your Solana wallet to buy or sell TPOT","连接您的 Solana 钱包以买卖 TPOT")})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/5",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:C("Best Buy Price","最高买价")}),(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"0.52 USDT"})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/5",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:C("Best Sell Price","最低卖价")}),(0,a.jsx)("div",{className:"text-2xl font-bold text-red-400",children:"0.48 USDT"})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/5",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:C("24h Volume","24小时交易量")}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:"125,000 TPOT"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex bg-white/5 rounded-2xl p-1.5",children:[(0,a.jsxs)("button",{onClick:()=>d("buy"),className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition ".concat("buy"===r?"bg-green-500 text-white shadow-lg shadow-green-500/25":"hover:bg-white/5 text-gray-400"),children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCC8"}),(0,a.jsx)("span",{children:C("Buy Market","买入市场")})]}),(0,a.jsxs)("button",{onClick:()=>d("sell"),className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition ".concat("sell"===r?"bg-red-500 text-white shadow-lg shadow-red-500/25":"hover:bg-white/5 text-gray-400"),children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCC9"}),(0,a.jsx)("span",{children:C("Sell Market","卖出市场")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:C("All Chains","全部链")}),Object.entries(f).map(e=>{let[t,{name:s}]=e;return(0,a.jsx)("option",{value:t,children:s},t)})]}),t&&(0,a.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-5 py-2.5 rounded-xl font-medium transition shadow-lg ".concat("buy"===r?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-green-500/25":"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/25"),children:[(0,a.jsx)("span",{children:"+"}),(0,a.jsx)("span",{children:"buy"===r?C("Post Buy Order","发布买单"):C("Post Sell Order","发布卖单")})]})]})]}),(0,a.jsx)("div",{className:"bg-white/5 rounded-2xl p-4 mb-6 border border-white/5",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA1"}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"buy"===r?C("These are sell orders from sellers. Pick one to buy TPOT with USDT.","这些是卖家的卖单，选择一个用 USDT 购买 TPOT。"):C("These are buy orders from buyers. Pick one to sell your TPOT for USDT.","这些是买家的买单，选择一个卖出您的 TPOT 获得 USDT。")})]})}),(0,a.jsx)("div",{className:"space-y-3",children:0===D.length?(0,a.jsxs)("div",{className:"bg-white/5 rounded-2xl p-12 text-center border border-white/5",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("p",{className:"text-gray-400 mb-2",children:C("No orders available","暂无订单")}),t&&(0,a.jsx)("button",{onClick:()=>h(!0),className:"text-blue-400 hover:text-blue-300 text-sm",children:C("Be the first to post an order","成为第一个发布订单的人")})]}):D.map(e=>(0,a.jsx)("div",{onClick:()=>T(e.id),className:"group bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/10 rounded-2xl p-5 transition cursor-pointer",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center font-bold text-lg",children:e.makerNickname[0]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.makerNickname}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat("sell"===e.type?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"),children:"sell"===e.type?C("Seller","卖家"):C("Buyer","买家")})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["156 ",C("trades","交易")," \xb7 98% ",C("completion","完成率")]})]})]}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-6 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:C("Price","价格")}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[e.price," ",(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"USDT"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:C("Amount","数量")}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[e.tokenAmount.toLocaleString()," ",(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"TPOT"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:C("Limit","限额")}),(0,a.jsxs)("div",{className:"text-lg font-medium text-gray-300",children:[e.minUsdt," - ",e.maxUsdt," ",(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"USDT"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-white/5 rounded-xl px-4 py-2 text-sm",children:f[e.makerUsdtChain].name}),(0,a.jsx)("button",{className:"px-6 py-2.5 rounded-xl font-medium transition ".concat("buy"===r?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:"buy"===r?C("Buy","买入"):C("Sell","卖出")})]})]})},e.id))})]}),u&&(0,a.jsx)(y,{onClose:()=>h(!1)}),v&&(0,a.jsx)(w,{orderId:v,onClose:()=>T(null)}),b&&(0,a.jsx)(N,{onClose:()=>p(!1)})]})}},1041:function(e,t,s){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(7294),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,l=r.useEffect,i=r.useLayoutEffect,d=r.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a(e,s)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),r=n({inst:{value:s,getSnapshot:t}}),a=r[0].inst,c=r[1];return i(function(){a.value=s,a.getSnapshot=t,o(a)&&c({inst:a})},[e,s,t]),l(function(){return o(a)&&c({inst:a}),e(function(){o(a)&&c({inst:a})})},[e]),d(s),s};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},743:function(e,t,s){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(7294),a=s(4652),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,i=r.useRef,d=r.useEffect,o=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var x=i(null);if(null===x.current){var m={hasValue:!1,value:null};x.current=m}else m=x.current;var u=l(e,(x=o(function(){function e(e){if(!d){if(d=!0,l=e,e=r(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,n(l,e))return t;var s=r(e);return void 0!==a&&a(t,s)?(l=e,t):(l=e,i=s)}var l,i,d=!1,o=void 0===s?null:s;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,s,r,a]))[0],x[1]);return d(function(){m.hasValue=!0,m.value=u},[u]),c(u),u}},4652:function(e,t,s){"use strict";e.exports=s(1041)},8258:function(e,t,s){"use strict";e.exports=s(743)},5664:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var r=s(7294);let a=e=>r.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&r.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&r.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon))},6581:function(e,t,s){"use strict";s.d(t,{o:function(){return a}});var r=s(7294);let a=({wallet:e,...t})=>e&&r.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t})},6009:function(e,t,s){"use strict";s.d(t,{a:function(){return x}});var r=s(7294),a=s(4306),n=s(5664),l=s(6581);function i({walletIcon:e,walletName:t,...s}){return r.createElement(n.z,{...s,className:"wallet-adapter-button-trigger",startIcon:e&&t?r.createElement(l.o,{wallet:{adapter:{icon:e,name:t}}}):void 0})}var d=s(3495);function o({children:e,labels:t,...s}){let{setVisible:n}=(0,d.h)(),{buttonState:l,onConnect:o,onDisconnect:c,publicKey:x,walletIcon:m,walletName:u}=function({onSelectWallet:e}){let t;let{connect:s,connected:n,connecting:l,disconnect:i,disconnecting:d,publicKey:o,select:c,wallet:x,wallets:m}=(0,a.O)();t=l?"connecting":n?"connected":d?"disconnecting":x?"has-wallet":"no-wallet";let u=(0,r.useCallback)(()=>{s().catch(()=>{})},[s]),h=(0,r.useCallback)(()=>{i().catch(()=>{})},[i]);return{buttonState:t,onConnect:"has-wallet"===t?u:void 0,onDisconnect:"disconnecting"!==t&&"no-wallet"!==t?h:void 0,onSelectWallet:(0,r.useCallback)(()=>{e({onSelectWallet:c,wallets:m})},[e,c,m]),publicKey:o??void 0,walletIcon:x?.adapter.icon,walletName:x?.adapter.name}}({onSelectWallet(){n(!0)}}),[h,b]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{let t=f.current;!t||t.contains(e.target)||g(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);let v=(0,r.useMemo)(()=>{if(e)return e;if(x){let e=x.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===l||"has-wallet"===l?t[l]:t["no-wallet"]},[l,e,t,x]);return r.createElement("div",{className:"wallet-adapter-dropdown"},r.createElement(i,{...s,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...s.style},onClick:()=>{switch(l){case"no-wallet":n(!0);break;case"has-wallet":o&&o();break;case"connected":g(!0)}},walletIcon:m,walletName:u},v),r.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:f,role:"menu"},x?r.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(x.toBase58()),b(!0),setTimeout(()=>b(!1),400)},role:"menuitem"},h?t.copied:t["copy-address"]):null,r.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),g(!1)},role:"menuitem"},t["change-wallet"]),c?r.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),g(!1)},role:"menuitem"},t.disconnect):null))}let c={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function x(e){return r.createElement(o,{...e,labels:c})}},3495:function(e,t,s){"use strict";s.d(t,{g:function(){return l},h:function(){return i}});var r=s(7294);let a={setVisible(e){console.error(n("call","setVisible"))},visible:!1};function n(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(a,"visible",{get:()=>(console.error(n("read","visible")),!1)});let l=(0,r.createContext)(a);function i(){return(0,r.useContext)(l)}},4306:function(e,t,s){"use strict";s.d(t,{O:function(){return d},z:function(){return i}});var r=s(7294);let a=[],n={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){l("call","select")},connect:()=>Promise.reject(l("call","connect")),disconnect:()=>Promise.reject(l("call","disconnect")),sendTransaction:()=>Promise.reject(l("call","sendTransaction")),signTransaction:()=>Promise.reject(l("call","signTransaction")),signAllTransactions:()=>Promise.reject(l("call","signAllTransactions")),signMessage:()=>Promise.reject(l("call","signMessage")),signIn:()=>Promise.reject(l("call","signIn"))};function l(e,t){let s=Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(s),s}Object.defineProperty(n,"wallets",{get:()=>(l("read","wallets"),a)}),Object.defineProperty(n,"wallet",{get:()=>(l("read","wallet"),null)}),Object.defineProperty(n,"publicKey",{get:()=>(l("read","publicKey"),null)});let i=(0,r.createContext)(n);function d(){return(0,r.useContext)(i)}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2786)}),_N_E=e.O()}]);